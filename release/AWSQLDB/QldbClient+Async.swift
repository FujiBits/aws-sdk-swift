// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

#if swift(>=5.5) && canImport(_Concurrency)
@available(macOS 12.0, iOS 15.0, tvOS 15.0, watchOS 8.0, macCatalyst 15.0, *)
public extension QldbClient {
    /// Ends a given Amazon QLDB journal stream. Before a stream can be canceled, its current
    ///          status must be ACTIVE.
    ///          You can't restart a stream after you cancel it. Canceled QLDB stream resources are
    ///          subject to a 7-day retention period, so they are automatically deleted after this limit
    ///          expires.
    func cancelJournalKinesisStream(input: CancelJournalKinesisStreamInput) async throws -> CancelJournalKinesisStreamOutputResponse
    {
        typealias cancelJournalKinesisStreamContinuation = CheckedContinuation<CancelJournalKinesisStreamOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: cancelJournalKinesisStreamContinuation) in
            cancelJournalKinesisStream(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Creates a new ledger in your account in the current Region.
    func createLedger(input: CreateLedgerInput) async throws -> CreateLedgerOutputResponse
    {
        typealias createLedgerContinuation = CheckedContinuation<CreateLedgerOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: createLedgerContinuation) in
            createLedger(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Deletes a ledger and all of its contents. This action is irreversible.
    ///          If deletion protection is enabled, you must first disable it before you can delete the
    ///       ledger. You can disable it by calling the UpdateLedger operation to set the flag to false.
    func deleteLedger(input: DeleteLedgerInput) async throws -> DeleteLedgerOutputResponse
    {
        typealias deleteLedgerContinuation = CheckedContinuation<DeleteLedgerOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: deleteLedgerContinuation) in
            deleteLedger(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns detailed information about a given Amazon QLDB journal stream. The output
    ///          includes the Amazon Resource Name (ARN), stream name, current status, creation time, and
    ///          the parameters of the original stream creation request.
    ///          This action does not return any expired journal streams. For more information, see
    ///             <a href="https://docs.aws.amazon.com/qldb/latest/developerguide/streams.create.html#streams.create.states.expiration">Expiration for terminal streams in the Amazon QLDB Developer
    ///             Guide.
    func describeJournalKinesisStream(input: DescribeJournalKinesisStreamInput) async throws -> DescribeJournalKinesisStreamOutputResponse
    {
        typealias describeJournalKinesisStreamContinuation = CheckedContinuation<DescribeJournalKinesisStreamOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: describeJournalKinesisStreamContinuation) in
            describeJournalKinesisStream(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns information about a journal export job, including the ledger name, export ID,
    ///          creation time, current status, and the parameters of the original export creation
    ///          request.
    ///          This action does not return any expired export jobs. For more information, see <a href="https://docs.aws.amazon.com/qldb/latest/developerguide/export-journal.request.html#export-journal.request.expiration">Export job expiration in the Amazon QLDB Developer
    ///          Guide.
    ///          If the export job with the given ExportId doesn't exist, then throws
    ///             ResourceNotFoundException.
    ///          If the ledger with the given Name doesn't exist, then throws
    ///             ResourceNotFoundException.
    func describeJournalS3Export(input: DescribeJournalS3ExportInput) async throws -> DescribeJournalS3ExportOutputResponse
    {
        typealias describeJournalS3ExportContinuation = CheckedContinuation<DescribeJournalS3ExportOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: describeJournalS3ExportContinuation) in
            describeJournalS3Export(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns information about a ledger, including its state, permissions mode, encryption at
    ///          rest settings, and when it was created.
    func describeLedger(input: DescribeLedgerInput) async throws -> DescribeLedgerOutputResponse
    {
        typealias describeLedgerContinuation = CheckedContinuation<DescribeLedgerOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: describeLedgerContinuation) in
            describeLedger(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Exports journal contents within a date and time range from a ledger into a specified
    ///          Amazon Simple Storage Service (Amazon S3) bucket. The data is written as files in Amazon Ion format.
    ///          If the ledger with the given Name doesn't exist, then throws
    ///             ResourceNotFoundException.
    ///          If the ledger with the given Name is in CREATING status, then
    ///          throws ResourcePreconditionNotMetException.
    ///          You can initiate up to two concurrent journal export requests for each ledger. Beyond
    ///          this limit, journal export requests throw LimitExceededException.
    func exportJournalToS3(input: ExportJournalToS3Input) async throws -> ExportJournalToS3OutputResponse
    {
        typealias exportJournalToS3Continuation = CheckedContinuation<ExportJournalToS3OutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: exportJournalToS3Continuation) in
            exportJournalToS3(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns a block object at a specified address in a journal. Also returns a proof of the
    ///          specified block for verification if DigestTipAddress is provided.
    ///          For information about the data contents in a block, see <a href="https://docs.aws.amazon.com/qldb/latest/developerguide/journal-contents.html">Journal contents in the
    ///             Amazon QLDB Developer Guide.
    ///          If the specified ledger doesn't exist or is in DELETING status, then throws
    ///             ResourceNotFoundException.
    ///          If the specified ledger is in CREATING status, then throws
    ///             ResourcePreconditionNotMetException.
    ///          If no block exists with the specified address, then throws
    ///             InvalidParameterException.
    func getBlock(input: GetBlockInput) async throws -> GetBlockOutputResponse
    {
        typealias getBlockContinuation = CheckedContinuation<GetBlockOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: getBlockContinuation) in
            getBlock(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns the digest of a ledger at the latest committed block in the journal. The
    ///          response includes a 256-bit hash value and a block address.
    func getDigest(input: GetDigestInput) async throws -> GetDigestOutputResponse
    {
        typealias getDigestContinuation = CheckedContinuation<GetDigestOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: getDigestContinuation) in
            getDigest(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns a revision data object for a specified document ID and block address. Also
    ///          returns a proof of the specified revision for verification if DigestTipAddress
    ///          is provided.
    func getRevision(input: GetRevisionInput) async throws -> GetRevisionOutputResponse
    {
        typealias getRevisionContinuation = CheckedContinuation<GetRevisionOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: getRevisionContinuation) in
            getRevision(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns an array of all Amazon QLDB journal stream descriptors for a given ledger. The
    ///          output of each stream descriptor includes the same details that are returned by
    ///             DescribeJournalKinesisStream.
    ///          This action does not return any expired journal streams. For more information, see
    ///             <a href="https://docs.aws.amazon.com/qldb/latest/developerguide/streams.create.html#streams.create.states.expiration">Expiration for terminal streams in the Amazon QLDB Developer
    ///             Guide.
    ///          This action returns a maximum of MaxResults items. It is paginated so that
    ///          you can retrieve all the items by calling ListJournalKinesisStreamsForLedger
    ///          multiple times.
    func listJournalKinesisStreamsForLedger(input: ListJournalKinesisStreamsForLedgerInput) async throws -> ListJournalKinesisStreamsForLedgerOutputResponse
    {
        typealias listJournalKinesisStreamsForLedgerContinuation = CheckedContinuation<ListJournalKinesisStreamsForLedgerOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: listJournalKinesisStreamsForLedgerContinuation) in
            listJournalKinesisStreamsForLedger(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns an array of journal export job descriptions for all ledgers that are associated
    ///          with the current account and Region.
    ///          This action returns a maximum of MaxResults items, and is paginated so that
    ///          you can retrieve all the items by calling ListJournalS3Exports multiple
    ///          times.
    ///          This action does not return any expired export jobs. For more information, see <a href="https://docs.aws.amazon.com/qldb/latest/developerguide/export-journal.request.html#export-journal.request.expiration">Export job expiration in the Amazon QLDB Developer
    ///          Guide.
    func listJournalS3Exports(input: ListJournalS3ExportsInput) async throws -> ListJournalS3ExportsOutputResponse
    {
        typealias listJournalS3ExportsContinuation = CheckedContinuation<ListJournalS3ExportsOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: listJournalS3ExportsContinuation) in
            listJournalS3Exports(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns an array of journal export job descriptions for a specified ledger.
    ///          This action returns a maximum of MaxResults items, and is paginated so that
    ///          you can retrieve all the items by calling ListJournalS3ExportsForLedger
    ///          multiple times.
    ///          This action does not return any expired export jobs. For more information, see <a href="https://docs.aws.amazon.com/qldb/latest/developerguide/export-journal.request.html#export-journal.request.expiration">Export job expiration in the Amazon QLDB Developer
    ///          Guide.
    func listJournalS3ExportsForLedger(input: ListJournalS3ExportsForLedgerInput) async throws -> ListJournalS3ExportsForLedgerOutputResponse
    {
        typealias listJournalS3ExportsForLedgerContinuation = CheckedContinuation<ListJournalS3ExportsForLedgerOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: listJournalS3ExportsForLedgerContinuation) in
            listJournalS3ExportsForLedger(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns an array of ledger summaries that are associated with the current account
    ///          and Region.
    ///          This action returns a maximum of 100 items and is paginated so that you can
    ///          retrieve all the items by calling ListLedgers multiple times.
    func listLedgers(input: ListLedgersInput) async throws -> ListLedgersOutputResponse
    {
        typealias listLedgersContinuation = CheckedContinuation<ListLedgersOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: listLedgersContinuation) in
            listLedgers(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Returns all tags for a specified Amazon QLDB resource.
    func listTagsForResource(input: ListTagsForResourceInput) async throws -> ListTagsForResourceOutputResponse
    {
        typealias listTagsForResourceContinuation = CheckedContinuation<ListTagsForResourceOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: listTagsForResourceContinuation) in
            listTagsForResource(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Creates a journal stream for a given Amazon QLDB ledger. The stream captures every
    ///          document revision that is committed to the ledger's journal and delivers the data to a
    ///          specified Amazon Kinesis Data Streams resource.
    func streamJournalToKinesis(input: StreamJournalToKinesisInput) async throws -> StreamJournalToKinesisOutputResponse
    {
        typealias streamJournalToKinesisContinuation = CheckedContinuation<StreamJournalToKinesisOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: streamJournalToKinesisContinuation) in
            streamJournalToKinesis(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Adds one or more tags to a specified Amazon QLDB resource.
    ///          A resource can have up to 50 tags. If you try to create more than 50 tags for a
    ///          resource, your request fails and returns an error.
    func tagResource(input: TagResourceInput) async throws -> TagResourceOutputResponse
    {
        typealias tagResourceContinuation = CheckedContinuation<TagResourceOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: tagResourceContinuation) in
            tagResource(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Removes one or more tags from a specified Amazon QLDB resource. You can specify up to 50
    ///          tag keys to remove.
    func untagResource(input: UntagResourceInput) async throws -> UntagResourceOutputResponse
    {
        typealias untagResourceContinuation = CheckedContinuation<UntagResourceOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: untagResourceContinuation) in
            untagResource(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Updates properties on a ledger.
    func updateLedger(input: UpdateLedgerInput) async throws -> UpdateLedgerOutputResponse
    {
        typealias updateLedgerContinuation = CheckedContinuation<UpdateLedgerOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: updateLedgerContinuation) in
            updateLedger(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

    /// Updates the permissions mode of a ledger.
    ///
    ///             Before you switch to the STANDARD permissions mode, you must first
    ///             create all required IAM policies and table tags to avoid disruption to your users. To
    ///             learn more, see <a href="https://docs.aws.amazon.com/qldb/latest/developerguide/ledger-management.basics.html#ledger-mgmt.basics.update-permissions.migrating">Migrating to the standard permissions mode in the Amazon QLDB
    ///                Developer Guide.
    ///
    func updateLedgerPermissionsMode(input: UpdateLedgerPermissionsModeInput) async throws -> UpdateLedgerPermissionsModeOutputResponse
    {
        typealias updateLedgerPermissionsModeContinuation = CheckedContinuation<UpdateLedgerPermissionsModeOutputResponse, Swift.Error>
        return try await withCheckedThrowingContinuation { (continuation: updateLedgerPermissionsModeContinuation) in
            updateLedgerPermissionsMode(input: input) { result in
                switch result {
                    case .success(let output):
                        continuation.resume(returning: output)
                    case .failure(let error):
                        continuation.resume(throwing: error)
                }
            }
        }
    }

}
#endif
