// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension OnDemandOptionsRequest: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case allocationStrategy = "AllocationStrategy"
        case capacityReservationOptions = "CapacityReservationOptions"
        case maxTotalPrice = "MaxTotalPrice"
        case minTargetCapacity = "MinTargetCapacity"
        case singleAvailabilityZone = "SingleAvailabilityZone"
        case singleInstanceType = "SingleInstanceType"
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: Key.self)
        if let allocationStrategy = allocationStrategy {
            try container.encode(allocationStrategy, forKey: Key("AllocationStrategy"))
        }
        if let capacityReservationOptions = capacityReservationOptions {
            try container.encode(capacityReservationOptions, forKey: Key("CapacityReservationOptions"))
        }
        if let maxTotalPrice = maxTotalPrice {
            try container.encode(maxTotalPrice, forKey: Key("MaxTotalPrice"))
        }
        if minTargetCapacity != 0 {
            try container.encode(minTargetCapacity, forKey: Key("MinTargetCapacity"))
        }
        if singleAvailabilityZone != false {
            try container.encode(singleAvailabilityZone, forKey: Key("SingleAvailabilityZone"))
        }
        if singleInstanceType != false {
            try container.encode(singleInstanceType, forKey: Key("SingleInstanceType"))
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let allocationStrategyDecoded = try containerValues.decodeIfPresent(FleetOnDemandAllocationStrategy.self, forKey: .allocationStrategy)
        allocationStrategy = allocationStrategyDecoded
        let capacityReservationOptionsDecoded = try containerValues.decodeIfPresent(CapacityReservationOptionsRequest.self, forKey: .capacityReservationOptions)
        capacityReservationOptions = capacityReservationOptionsDecoded
        let singleInstanceTypeDecoded = try containerValues.decode(Bool.self, forKey: .singleInstanceType)
        singleInstanceType = singleInstanceTypeDecoded
        let singleAvailabilityZoneDecoded = try containerValues.decode(Bool.self, forKey: .singleAvailabilityZone)
        singleAvailabilityZone = singleAvailabilityZoneDecoded
        let minTargetCapacityDecoded = try containerValues.decode(Int.self, forKey: .minTargetCapacity)
        minTargetCapacity = minTargetCapacityDecoded
        let maxTotalPriceDecoded = try containerValues.decodeIfPresent(String.self, forKey: .maxTotalPrice)
        maxTotalPrice = maxTotalPriceDecoded
    }
}
