// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension VgwTelemetry: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case acceptedRouteCount = "acceptedRouteCount"
        case certificateArn = "certificateArn"
        case lastStatusChange = "lastStatusChange"
        case outsideIpAddress = "outsideIpAddress"
        case status = "status"
        case statusMessage = "statusMessage"
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: Key.self)
        if acceptedRouteCount != 0 {
            try container.encode(acceptedRouteCount, forKey: Key("AcceptedRouteCount"))
        }
        if let certificateArn = certificateArn {
            try container.encode(certificateArn, forKey: Key("CertificateArn"))
        }
        if let lastStatusChange = lastStatusChange {
            try container.encode(TimestampWrapper(lastStatusChange, format: .dateTime), forKey: Key("LastStatusChange"))
        }
        if let outsideIpAddress = outsideIpAddress {
            try container.encode(outsideIpAddress, forKey: Key("OutsideIpAddress"))
        }
        if let status = status {
            try container.encode(status, forKey: Key("Status"))
        }
        if let statusMessage = statusMessage {
            try container.encode(statusMessage, forKey: Key("StatusMessage"))
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let acceptedRouteCountDecoded = try containerValues.decode(Int.self, forKey: .acceptedRouteCount)
        acceptedRouteCount = acceptedRouteCountDecoded
        let lastStatusChangeDecoded = try containerValues.decodeIfPresent(String.self, forKey: .lastStatusChange)
        var lastStatusChangeBuffer:Date? = nil
        if let lastStatusChangeDecoded = lastStatusChangeDecoded {
            lastStatusChangeBuffer = try TimestampWrapperDecoder.parseDateStringValue(lastStatusChangeDecoded, format: .dateTime)
        }
        lastStatusChange = lastStatusChangeBuffer
        let outsideIpAddressDecoded = try containerValues.decodeIfPresent(String.self, forKey: .outsideIpAddress)
        outsideIpAddress = outsideIpAddressDecoded
        let statusDecoded = try containerValues.decodeIfPresent(TelemetryStatus.self, forKey: .status)
        status = statusDecoded
        let statusMessageDecoded = try containerValues.decodeIfPresent(String.self, forKey: .statusMessage)
        statusMessage = statusMessageDecoded
        let certificateArnDecoded = try containerValues.decodeIfPresent(String.self, forKey: .certificateArn)
        certificateArn = certificateArnDecoded
    }
}
