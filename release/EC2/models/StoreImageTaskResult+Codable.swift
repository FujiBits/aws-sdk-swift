// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension StoreImageTaskResult: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case amiId = "amiId"
        case bucket = "bucket"
        case progressPercentage = "progressPercentage"
        case s3objectKey = "s3objectKey"
        case storeTaskFailureReason = "storeTaskFailureReason"
        case storeTaskState = "storeTaskState"
        case taskStartTime = "taskStartTime"
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: Key.self)
        if let amiId = amiId {
            try container.encode(amiId, forKey: Key("AmiId"))
        }
        if let bucket = bucket {
            try container.encode(bucket, forKey: Key("Bucket"))
        }
        if progressPercentage != 0 {
            try container.encode(progressPercentage, forKey: Key("ProgressPercentage"))
        }
        if let s3objectKey = s3objectKey {
            try container.encode(s3objectKey, forKey: Key("S3objectKey"))
        }
        if let storeTaskFailureReason = storeTaskFailureReason {
            try container.encode(storeTaskFailureReason, forKey: Key("StoreTaskFailureReason"))
        }
        if let storeTaskState = storeTaskState {
            try container.encode(storeTaskState, forKey: Key("StoreTaskState"))
        }
        if let taskStartTime = taskStartTime {
            try container.encode(TimestampWrapper(taskStartTime, format: .dateTime), forKey: Key("TaskStartTime"))
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let amiIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .amiId)
        amiId = amiIdDecoded
        let taskStartTimeDecoded = try containerValues.decodeIfPresent(String.self, forKey: .taskStartTime)
        var taskStartTimeBuffer:Date? = nil
        if let taskStartTimeDecoded = taskStartTimeDecoded {
            taskStartTimeBuffer = try TimestampWrapperDecoder.parseDateStringValue(taskStartTimeDecoded, format: .dateTime)
        }
        taskStartTime = taskStartTimeBuffer
        let bucketDecoded = try containerValues.decodeIfPresent(String.self, forKey: .bucket)
        bucket = bucketDecoded
        let s3objectKeyDecoded = try containerValues.decodeIfPresent(String.self, forKey: .s3objectKey)
        s3objectKey = s3objectKeyDecoded
        let progressPercentageDecoded = try containerValues.decode(Int.self, forKey: .progressPercentage)
        progressPercentage = progressPercentageDecoded
        let storeTaskStateDecoded = try containerValues.decodeIfPresent(String.self, forKey: .storeTaskState)
        storeTaskState = storeTaskStateDecoded
        let storeTaskFailureReasonDecoded = try containerValues.decodeIfPresent(String.self, forKey: .storeTaskFailureReason)
        storeTaskFailureReason = storeTaskFailureReasonDecoded
    }
}
