// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension AvailabilityZone: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case groupName = "groupName"
        case messages = "messageSet"
        case networkBorderGroup = "networkBorderGroup"
        case optInStatus = "optInStatus"
        case parentZoneId = "parentZoneId"
        case parentZoneName = "parentZoneName"
        case regionName = "regionName"
        case state = "zoneState"
        case zoneId = "zoneId"
        case zoneName = "zoneName"
        case zoneType = "zoneType"
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: Key.self)
        if let groupName = groupName {
            try container.encode(groupName, forKey: Key("GroupName"))
        }
        if let messages = messages {
            if !messages.isEmpty {
                for (index0, availabilityzonemessage0) in messages.enumerated() {
                    var messagesContainer0 = container.nestedContainer(keyedBy: Key.self, forKey: Key("MessageSet.\(index0.advanced(by: 1))"))
                    try messagesContainer0.encode(availabilityzonemessage0, forKey: Key(""))
                }
            }
        }
        if let networkBorderGroup = networkBorderGroup {
            try container.encode(networkBorderGroup, forKey: Key("NetworkBorderGroup"))
        }
        if let optInStatus = optInStatus {
            try container.encode(optInStatus, forKey: Key("OptInStatus"))
        }
        if let parentZoneId = parentZoneId {
            try container.encode(parentZoneId, forKey: Key("ParentZoneId"))
        }
        if let parentZoneName = parentZoneName {
            try container.encode(parentZoneName, forKey: Key("ParentZoneName"))
        }
        if let regionName = regionName {
            try container.encode(regionName, forKey: Key("RegionName"))
        }
        if let state = state {
            try container.encode(state, forKey: Key("ZoneState"))
        }
        if let zoneId = zoneId {
            try container.encode(zoneId, forKey: Key("ZoneId"))
        }
        if let zoneName = zoneName {
            try container.encode(zoneName, forKey: Key("ZoneName"))
        }
        if let zoneType = zoneType {
            try container.encode(zoneType, forKey: Key("ZoneType"))
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let stateDecoded = try containerValues.decodeIfPresent(AvailabilityZoneState.self, forKey: .state)
        state = stateDecoded
        let optInStatusDecoded = try containerValues.decodeIfPresent(AvailabilityZoneOptInStatus.self, forKey: .optInStatus)
        optInStatus = optInStatusDecoded
        if containerValues.contains(.messages) {
            struct KeyVal0{struct item{}}
            let messagesWrappedContainer = containerValues.nestedContainerNonThrowable(keyedBy: CollectionMemberCodingKey<KeyVal0.item>.CodingKeys.self, forKey: .messages)
            if let messagesWrappedContainer = messagesWrappedContainer {
                let messagesContainer = try messagesWrappedContainer.decodeIfPresent([AvailabilityZoneMessage].self, forKey: .member)
                var messagesBuffer:[AvailabilityZoneMessage]? = nil
                if let messagesContainer = messagesContainer {
                    messagesBuffer = [AvailabilityZoneMessage]()
                    for structureContainer0 in messagesContainer {
                        messagesBuffer?.append(structureContainer0)
                    }
                }
                messages = messagesBuffer
            } else {
                messages = []
            }
        } else {
            messages = nil
        }
        let regionNameDecoded = try containerValues.decodeIfPresent(String.self, forKey: .regionName)
        regionName = regionNameDecoded
        let zoneNameDecoded = try containerValues.decodeIfPresent(String.self, forKey: .zoneName)
        zoneName = zoneNameDecoded
        let zoneIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .zoneId)
        zoneId = zoneIdDecoded
        let groupNameDecoded = try containerValues.decodeIfPresent(String.self, forKey: .groupName)
        groupName = groupNameDecoded
        let networkBorderGroupDecoded = try containerValues.decodeIfPresent(String.self, forKey: .networkBorderGroup)
        networkBorderGroup = networkBorderGroupDecoded
        let zoneTypeDecoded = try containerValues.decodeIfPresent(String.self, forKey: .zoneType)
        zoneType = zoneTypeDecoded
        let parentZoneNameDecoded = try containerValues.decodeIfPresent(String.self, forKey: .parentZoneName)
        parentZoneName = parentZoneNameDecoded
        let parentZoneIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .parentZoneId)
        parentZoneId = parentZoneIdDecoded
    }
}
